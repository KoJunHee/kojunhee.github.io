<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>[테스트 주도 개발] 25장_테스트 주도 개발 패턴 - Always Learning</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Always Learning"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Always Learning"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="어떻게 테스트할 것인지에 대해 이야기하기 전에, 다음 질문들을 정리해보자.  테스트한다는 것은 무엇을 뜻하는가 ? 테스트를 언제 해야하는가 ? 테스트할 로직을 어떻게 고를 것인가 ? 테스트할 데이터를 어떻게 고를 것인가?  격리된 테스트테스트는 전체 애플리케이션을 대상으로 하는 것 보다, 작은 스케일로 하는게 좋다.각각의 테스트는 다른 테스트와 독립적이어야"><meta property="og:type" content="blog"><meta property="og:title" content="[테스트 주도 개발] 25장_테스트 주도 개발 패턴"><meta property="og:url" content="https://junhee-ko.github.io/2020/04/06/tdd-chapter-25/"><meta property="og:site_name" content="Always Learning"><meta property="og:description" content="어떻게 테스트할 것인지에 대해 이야기하기 전에, 다음 질문들을 정리해보자.  테스트한다는 것은 무엇을 뜻하는가 ? 테스트를 언제 해야하는가 ? 테스트할 로직을 어떻게 고를 것인가 ? 테스트할 데이터를 어떻게 고를 것인가?  격리된 테스트테스트는 전체 애플리케이션을 대상으로 하는 것 보다, 작은 스케일로 하는게 좋다.각각의 테스트는 다른 테스트와 독립적이어야"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://junhee-ko.github.io/img/og_image.png"><meta property="article:published_time" content="2020-04-05T15:00:00.000Z"><meta property="article:modified_time" content="2021-07-17T07:08:50.846Z"><meta property="article:author" content="junhee.ko"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://junhee-ko.github.io/2020/04/06/tdd-chapter-25/"},"headline":"[테스트 주도 개발] 25장_테스트 주도 개발 패턴","image":["https://junhee-ko.github.io/img/og_image.png"],"datePublished":"2020-04-05T15:00:00.000Z","dateModified":"2021-07-17T07:08:50.846Z","author":{"@type":"Person","name":"junhee.ko"},"publisher":{"@type":"Organization","name":"Always Learning","logo":{"@type":"ImageObject","url":"https://junhee-ko.github.io/img/logo.svg"}},"description":"어떻게 테스트할 것인지에 대해 이야기하기 전에, 다음 질문들을 정리해보자.  테스트한다는 것은 무엇을 뜻하는가 ? 테스트를 언제 해야하는가 ? 테스트할 로직을 어떻게 고를 것인가 ? 테스트할 데이터를 어떻게 고를 것인가?  격리된 테스트테스트는 전체 애플리케이션을 대상으로 하는 것 보다, 작은 스케일로 하는게 좋다.각각의 테스트는 다른 테스트와 독립적이어야"}</script><link rel="canonical" href="https://junhee-ko.github.io/2020/04/06/tdd-chapter-25/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Always Learning" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-05T15:00:00.000Z" title="4/6/2020, 12:00:00 AM">2020-04-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.846Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile">[테스트 주도 개발] 25장_테스트 주도 개발 패턴</h1><div class="content"><p>어떻게 테스트할 것인지에 대해 이야기하기 전에, 다음 질문들을 정리해보자.</p>
<ol>
<li>테스트한다는 것은 무엇을 뜻하는가 ?</li>
<li>테스트를 언제 해야하는가 ?</li>
<li>테스트할 로직을 어떻게 고를 것인가 ?</li>
<li>테스트할 데이터를 어떻게 고를 것인가?</li>
</ol>
<h5 id="격리된-테스트"><a href="#격리된-테스트" class="headerlink" title="격리된 테스트"></a>격리된 테스트</h5><p>테스트는 전체 애플리케이션을 대상으로 하는 것 보다, 작은 스케일로 하는게 좋다.<br>각각의 테스트는 다른 테스트와 독립적이어야한다. 즉, 문제가 하나면 테스트도 하나만 실패해야하고 둘이면 두개만 실패해야한다.격리된 테스트가 내포하는 특징은, 테스트가 실행 순서에 독립적이게 된다는 것이다. 테스트를 격리하기 위한 작업은, 시스템이 응집도는 높고 결합도는 낮은 객체의 모음으로 구성되도록 한다.</p>
<h5 id="테스트-목록"><a href="#테스트-목록" class="headerlink" title="테스트 목록"></a>테스트 목록</h5><p>뭘 테스트 해야하나 ? 시작하기 전에 작석해야할 테스트 목록을 모두 적어둬라.<br>우선 구현할 필요가 있는 모든 오퍼레이션의 사용 예들을 적어라. 그 다음, 이미 존재하지 않는 오퍼레이션에 대해서는 해당 오퍼레이션의 null 버젼 (아무 일도 하지 않는 버젼) 을 리스트에 적어라. 마지막으로 깔끔한 코드를 얻기 위해 이번 작업을 끝내기 전에 반드시 해야할 리펙토링 목록을 적어라.</p>
<h5 id="테스트-우선"><a href="#테스트-우선" class="headerlink" title="테스트 우선"></a>테스트 우선</h5><p>테스트는 언제 작성하는 것이 좋은가 ? 테스트 대상이 되는 코드를 작성하기 직전에 작성해라.</p>
<h5 id="assertion-우선"><a href="#assertion-우선" class="headerlink" title="assertion 우선"></a>assertion 우선</h5><p>테스트 작성할 때 단언은 언제쯤 쓸까 ? 단언를 먼저 쓰고 시작하라.<br>단언을 먼저 작성하면 작업을 단순하게 만들 수 있다. 소켓을 통해 다른 시스템과 통신하려고 한다고 해보자. 통신을 마친 후 소켓은 닫혀 있고, 소켓에서 문자열 abc 를 읽어와야한다고 하자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testCompleteTransaction</span><span class="params">()</span></span>&#123;</span><br><span class="line">    assertTrue(reader.isClosed());</span><br><span class="line">    assertEquals(<span class="string">&quot;abc&quot;</span>, reply.contents());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>다음으로, reply 는 어디에서 오나? socket 이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCompleteTransaction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Buffer reply = reader.contents();</span><br><span class="line">    assertTrue(reader.isClosed());</span><br><span class="line">    assertEquals(<span class="string">&quot;abc&quot;</span>, reply.contents());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>다음으로, 소켓은 어디에서 나오나 ? 다음 같이, 서버 접속할 때 생성된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCompleteTransaction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Socket reader =  <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>, defaultPort());</span><br><span class="line">    Buffer reply = reader.contents();</span><br><span class="line">    assertTrue(reader.isClosed());</span><br><span class="line">    assertEquals(<span class="string">&quot;abc&quot;</span>, reply.contents());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>물론 다음 처럼, 서버를 먼저 열어야한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testCompleteTransaction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Server writer = <span class="keyword">new</span> Server(defaultPort(), <span class="string">&quot;abc&quot;</span>);</span><br><span class="line">    Socket reader =  <span class="keyword">new</span> Socket(<span class="string">&quot;localhost&quot;</span>, defaultPort());</span><br><span class="line">    Buffer reply = reader.contents();</span><br><span class="line">    assertTrue(reader.isClosed());</span><br><span class="line">    assertEquals(<span class="string">&quot;abc&quot;</span>, reply.contents());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="테스트-데이터"><a href="#테스트-데이터" class="headerlink" title="테스트 데이터"></a>테스트 데이터</h5><p>테스트할 때 어떤 데이터를 사용해야하는가 ? 테스트를 읽을 때 쉽고 따라하기 좋은 데이터를 사용해라.<br>만역, plus() 메서드를 구현한다면 2+2 대신에, 2+3 을 써라.</p>
<h5 id="명백한-데이터"><a href="#명백한-데이터" class="headerlink" title="명백한 데이터"></a>명백한 데이터</h5><p>데이터의 의도를 어떻게 표현하나 ? 테스트 자체에 예상되는 값과 실제 값을 포함하고, 이 둘 사이의 관계를 드러내기 위해 노력해라.<br>입력으로 사용된 숫자와 예상되는 결과 사이의 관계를 드러내라. 프로그래밍이 쉬워지고 단언 부분에 수식을 써놓으면 다음에 무엇을 할지 쉽게 알게 된다.</p>
<hr>
<p>테스트 주도 개발 &lt;켄트 벡&gt; </p>
</div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/04/07/bigdata-chapter-06/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">[빅데이터] 6장_일괄처리 계층</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/04/06/tdd-chapter-26/"><span class="level-item">[테스트 주도 개발] 26장_빨간 막대 패턴</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><script>var disqus_config = function () {
            this.page.url = 'https://junhee-ko.github.io/2020/04/06/tdd-chapter-25/';
            this.page.identifier = '2020/04/06/tdd-chapter-25/';
        };
        (function() {
            var d = document, s = d.createElement('script');  
            s.src = '//' + 'junheeko' + '.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><p class="title is-size-4 is-block" style="line-height:inherit;">Junhee Ko</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">308</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">16</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/junhee-ko" target="_blank" rel="noopener">Follow</a></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">180</span></span></a></li><li><a class="level is-mobile" href="/categories/big-data/"><span class="level-start"><span class="level-item">Big Data</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/container/"><span class="level-start"><span class="level-item">Container</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/jpa/"><span class="level-start"><span class="level-item">JPA</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/kafka/"><span class="level-start"><span class="level-item">Kafka</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/oauth/"><span class="level-start"><span class="level-item">OAuth</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/oop/"><span class="level-start"><span class="level-item">OOP</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/os/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/redis/"><span class="level-start"><span class="level-item">Redis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/spark/"><span class="level-start"><span class="level-item">Spark</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/tdd/"><span class="level-start"><span class="level-item">TDD</span></span><span class="level-end"><span class="level-item tag">32</span></span></a></li><li><a class="level is-mobile" href="/categories/test-code/"><span class="level-start"><span class="level-item">Test Code</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/grpc/"><span class="level-start"><span class="level-item">gRPC</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Always Learning" height="28"></a><p class="is-size-7"><span>&copy; 2021 junhee.ko</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>