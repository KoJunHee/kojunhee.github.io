<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Category: Test Code - Always Learning</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Always Learning"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Always Learning"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Always Learning"><meta property="og:url" content="https://junhee-ko.github.io/"><meta property="og:site_name" content="Always Learning"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://junhee-ko.github.io/img/og_image.png"><meta property="article:author" content="junhee.ko"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://junhee-ko.github.io"},"headline":"Always Learning","image":["https://junhee-ko.github.io/img/og_image.png"],"author":{"@type":"Person","name":"junhee.ko"},"publisher":{"@type":"Organization","name":"Always Learning","logo":{"@type":"ImageObject","url":"https://junhee-ko.github.io/img/logo.svg"}},"description":null}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Always Learning" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">Test Code</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-08-05T15:00:00.000Z" title="8/6/2020, 12:00:00 AM">2020-08-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.868Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/test-code/">Test Code</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/06/unit-test-ch-11/">[실용주의 단위 테스트] 11장_테스트 리팩토링</a></h1><div class="content"><p>프로덕션 시스템을 리팩토링하는 것 처럼, 테스트를 리팩토링해야한다.</p>
<h2 id="1-이해-검색"><a href="#1-이해-검색" class="headerlink" title="1. 이해 검색"></a>1. 이해 검색</h2><p>이해하기 힘든 다음 테스트 코드를 리팩토링 할 것이다. Test Smell 을 찾으며 리팩토링 해보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SearchTest</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSearch</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        String pageContent = <span class="string">&quot;There are certain queer times and occasions &quot;</span></span><br><span class="line">              + <span class="string">&quot;in this strange mixed affair we call life when a man &quot;</span></span><br><span class="line">              + <span class="string">&quot;takes this whole universe for a vast practical joke, &quot;</span></span><br><span class="line">              + <span class="string">&quot;though the wit thereof he but dimly discerns, and more &quot;</span></span><br><span class="line">              + <span class="string">&quot;than suspects that the joke is at nobody&#x27;s expense but &quot;</span></span><br><span class="line">              + <span class="string">&quot;his own.&quot;</span>;</span><br><span class="line">         <span class="keyword">byte</span>[] bytes = pageContent.getBytes();</span><br><span class="line">         ByteArrayInputStream stream = <span class="keyword">new</span> ByteArrayInputStream(bytes);</span><br><span class="line">         <span class="comment">// search</span></span><br><span class="line">         Search search = <span class="keyword">new</span> Search(stream, <span class="string">&quot;practical joke&quot;</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">         Search.LOGGER.setLevel(Level.OFF);</span><br><span class="line">         search.setSurroundingCharacterCount(<span class="number">10</span>);</span><br><span class="line">         search.execute();</span><br><span class="line">         assertFalse(search.errored());</span><br><span class="line">         List&lt;Match&gt; matches = search.getMatches();</span><br><span class="line">         assertThat(matches, is(notNullValue()));</span><br><span class="line">         assertTrue(matches.size() &gt;= <span class="number">1</span>);</span><br><span class="line">         Match match = matches.get(<span class="number">0</span>);</span><br><span class="line">         assertThat(match.searchString, equalTo(<span class="string">&quot;practical joke&quot;</span>));</span><br><span class="line">         assertThat(match.surroundingContext, </span><br><span class="line">               equalTo(<span class="string">&quot;or a vast practical joke, though t&quot;</span>));</span><br><span class="line">         stream.close();</span><br><span class="line"></span><br><span class="line">         <span class="comment">// negative</span></span><br><span class="line">         URLConnection connection = </span><br><span class="line">               <span class="keyword">new</span> URL(<span class="string">&quot;http://bit.ly/15sYPA7&quot;</span>).openConnection();</span><br><span class="line">         InputStream inputStream = connection.getInputStream();</span><br><span class="line">         search = <span class="keyword">new</span> Search(inputStream, <span class="string">&quot;smelt&quot;</span>, <span class="string">&quot;http://bit.ly/15sYPA7&quot;</span>);</span><br><span class="line">         search.execute();</span><br><span class="line">         assertThat(search.getMatches().size(), equalTo(<span class="number">0</span>));</span><br><span class="line">         stream.close();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">         fail(<span class="string">&quot;exception thrown in test&quot;</span> + e.getMessage());</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-테스트-냄새-불필요한-테스트-코드"><a href="#2-테스트-냄새-불필요한-테스트-코드" class="headerlink" title="2. 테스트 냄새 : 불필요한 테스트 코드"></a>2. 테스트 냄새 : 불필요한 테스트 코드</h2><p>테스트 메서드에서 try/catch 의 가치는 없다. try/catch 블록을 제거하고 IOException 을 던지도록 변경하자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SearchTest</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSearch</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">      String pageContent = </span><br><span class="line">     ...</span><br></pre></td></tr></table></figure>

<p>그리고, 아래 코드에서 not-null 단언이 필요할까 ?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Match&gt; matches = search.getMatches();</span><br><span class="line">assertThat(matches, is(notNullValue()));</span><br><span class="line">assertTrue(matches.size() &gt;= <span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>matches.size() 에서 matches 가 null 을 참조한다면 예외를 던질 것이다.<br>따라서 다음과 같이 수정하자.</p></div><a class="article-more button is-small is-size-7" href="/2020/08/06/unit-test-ch-11/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-07-12T15:00:00.000Z" title="7/13/2020, 12:00:00 AM">2020-07-13</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.842Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/test-code/">Test Code</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/13/unit-test-ch-10/">[실용주의 단위 테스트] 10장_Mock</a></h1><div class="content"><p>Mock 객체를 사용해서 의존성을 끊는 방법을 정리한다.</p>
<h2 id="1-테스트-도전-과제"><a href="#1-테스트-도전-과제" class="headerlink" title="1. 테스트 도전 과제"></a>1. 테스트 도전 과제</h2><p>다음 클래스의 메서드는, 좌표를 기반으로 Address 객체를 생성해서 반환한다. retrieve() 메서드의 테스트를 작성해보자.<br>주의할점은, HttpImpl 클래스가 REST 호출을 실행한다는 것이다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddressRetriever</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">   <span class="function"><span class="keyword">public</span> Address <span class="title">retrieve</span><span class="params">(<span class="keyword">double</span> latitude, <span class="keyword">double</span> longitude)</span></span></span><br><span class="line"><span class="function">         <span class="keyword">throws</span> IOException, ParseException </span>&#123;</span><br><span class="line">      String parms = String.format(<span class="string">&quot;lat=%.6flon=%.6f&quot;</span>, latitude, longitude);</span><br><span class="line">      String response = <span class="keyword">new</span> HttpImpl().get(</span><br><span class="line">        <span class="string">&quot;http://open.mapquestapi.com/nominatim/v1/reverse?format=json&amp;&quot;</span></span><br><span class="line">        + parms);</span><br><span class="line"></span><br><span class="line">      JSONObject obj = (JSONObject)<span class="keyword">new</span> JSONParser().parse(response);</span><br><span class="line"></span><br><span class="line">      JSONObject address = (JSONObject)obj.get(<span class="string">&quot;address&quot;</span>);</span><br><span class="line">      String country = (String)address.get(<span class="string">&quot;country_code&quot;</span>);</span><br><span class="line">      <span class="keyword">if</span> (!country.equals(<span class="string">&quot;us&quot;</span>))</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(</span><br><span class="line">            <span class="string">&quot;cannot support non-US addresses at this time&quot;</span>);</span><br><span class="line"></span><br><span class="line">      String houseNumber = (String)address.get(<span class="string">&quot;house_number&quot;</span>);</span><br><span class="line">      String road = (String)address.get(<span class="string">&quot;road&quot;</span>);</span><br><span class="line">      String city = (String)address.get(<span class="string">&quot;city&quot;</span>);</span><br><span class="line">      String state = (String)address.get(<span class="string">&quot;state&quot;</span>);</span><br><span class="line">      String zip = (String)address.get(<span class="string">&quot;postcode&quot;</span>);</span><br><span class="line">      </span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> Address(houseNumber, road, city, state, zip);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>HttpImp 클래스는 다음과 같다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpImpl</span> <span class="keyword">implements</span> <span class="title">Http</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">get</span><span class="params">(String url)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">      CloseableHttpClient client = HttpClients.createDefault();</span><br><span class="line">      HttpGet request = <span class="keyword">new</span> HttpGet(url);</span><br><span class="line">      CloseableHttpResponse response = client.execute(request);</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">         HttpEntity entity = response.getEntity();</span><br><span class="line">         <span class="keyword">return</span> EntityUtils.toString(entity);</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">         response.close();</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Http</span> </span>&#123;</span><br><span class="line">   <span class="function">String <span class="title">get</span><span class="params">(String url)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>HTTP 호출을 실행하면 다음 두 문제가 있다.</p>
<ol>
<li>실제 호출에 대한 테스트는, 다른 빠른 테스트들에 비해 <code>느리다</code>.</li>
<li>HTTP API 가 항상 가용한지는 보장할 수 없다. 즉, 우리의 <code>통제 밖</code>이다.</li>
</ol>
<h2 id="2-번거로운-동작을-Stub-으로-대체"><a href="#2-번거로운-동작을-Stub-으로-대체" class="headerlink" title="2. 번거로운 동작을 Stub 으로 대체"></a>2. 번거로운 동작을 Stub 으로 대체</h2><p>HTTP 호출에서 반환되는 JSON 응답을 이용해서 Address 객체를 생성하는 로직을 검증해보자.<br>그러기 위해, HttpImpl 클래스의 get() 메서드 동작을 변경해보자. 단지, 테스트를 위해 하드 코딩한 JSON 문자열을 반환하도록 하자.<br>이렇게, <code>테스트 용도로 하드 코딩한 값을 반환하는 구현체</code>를 Stub 이라고 한다.</p></div><a class="article-more button is-small is-size-7" href="/2020/07/13/unit-test-ch-10/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-07-07T15:00:00.000Z" title="7/8/2020, 12:00:00 AM">2020-07-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.872Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/test-code/">Test Code</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/08/unit-test-ch-07/">[실용주의 단위 테스트] 7장_경계 조건</a></h1><div class="content"><p>경계 조건과 관련된 결함을 방지할 수 있는 방법들을 정리한다. 약어로, CORRECT.</p>
<h2 id="1-Conformance"><a href="#1-Conformance" class="headerlink" title="1. Conformance"></a>1. Conformance</h2><p>기대하는 구조에 입력 데이터가 맞는지 확인해라.<br>예를 들면, 이메일 주소의 경우에 @ 기호가 없는 경우나 @ 의 앞부분이 비어있는 경우에 대처해야한다.</p>
<h2 id="2-Ordering"><a href="#2-Ordering" class="headerlink" title="2. Ordering"></a>2. Ordering</h2><p>데이터의 순서나 Collection 에 있는 데이터의 위치가 코드를 잘못되게 할 수 있다.</p>
<h2 id="3-Range"><a href="#3-Range" class="headerlink" title="3. Range"></a>3. Range</h2><p>기본형의 과도한 사용에 의한 code smell 을 <code>Primitive Obsession</code> 이라고 한다. 객체 지향 언어를 사용하면, 사용자 정의 추상화로 이 문제를 해결할 수 있다.<br>예를 들면, 원은 360 도 이다. 이동 방향을 자바 기본형으로 저장하기 보다 Bearing 클래스로 범위를 제약하는 로직을 캡슐화 할 수 있다.<br>다음 테스트 코드는, 유효하지 않은 값으로 Bearing 을 생성할 때 어떤 일이 발생하는지 보여준다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BearingTest</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">   <span class="meta">@Test(expected=BearingOutOfRangeException.class)</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">throwsOnNegativeNumber</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">new</span> Bearing(-<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Test(expected=BearingOutOfRangeException.class)</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">throwsWhenBearingTooLarge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">new</span> Bearing(Bearing.MAX + <span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">answersValidBearing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      assertThat(<span class="keyword">new</span> Bearing(Bearing.MAX).value(), equalTo(Bearing.MAX));</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">answersAngleBetweenItAndAnotherBearing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      assertThat(<span class="keyword">new</span> Bearing(<span class="number">15</span>).angleBetween(<span class="keyword">new</span> Bearing(<span class="number">12</span>)), equalTo(<span class="number">3</span>));</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">angleBetweenIsNegativeWhenThisBearingSmaller</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      assertThat(<span class="keyword">new</span> Bearing(<span class="number">12</span>).angleBetween(<span class="keyword">new</span> Bearing(<span class="number">15</span>)), equalTo(-<span class="number">3</span>));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>제약 사항은 생성자에 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bearing</span> </span>&#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX = <span class="number">359</span>;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> value;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Bearing</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (value &lt; <span class="number">0</span> || value &gt; MAX) <span class="keyword">throw</span> <span class="keyword">new</span> BearingOutOfRangeException();</span><br><span class="line">      <span class="keyword">this</span>.value = value;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">value</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> value; &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">angleBetween</span><span class="params">(Bearing bearing)</span> </span>&#123; <span class="keyword">return</span> value - bearing.value; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2020/07/08/unit-test-ch-07/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-06-28T15:00:00.000Z" title="6/29/2020, 12:00:00 AM">2020-06-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.854Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/test-code/">Test Code</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/06/29/unit-test-ch-06/">[실용주의 단위 테스트] 6장_무엇을 테스트할 것인가?</a></h1><div class="content"><p>무엇을 테스트해야하는지 정리한다.<br>이것으로 쉽게 요약할 수 있다 : Right-BICEP</p>
<ol>
<li>Right : 결과가 올바른가 ?</li>
<li>B : Boundary. 경계 조건은 맞는가 ?</li>
<li>I : Inverse relationship. 역관계를 검사할 수 있나 ?</li>
<li>C : Cross check. 다른 수단을 활용해서 교차 검사 가능한가 ?</li>
<li>E : Error. 오류를 강제로 발생시킬 수 있는가 ?</li>
<li>P : Performance. 성능 조건은 기준에 부합하나 ?</li>
</ol>
<h2 id="1-Right"><a href="#1-Right" class="headerlink" title="1. Right"></a>1. Right</h2><p>테스트 코드는 무엇보다도 먼저, <code>기대한 결과를 산출하는지 검증</code> 해야한다.<br>다음 코드의 ScoreCollection 에 더 많은 숫자나 더 큰 수를 넣어서 테스트를 강화할 수 있다. 하지만 이러한 테스트는 행복 경로 테스트의 영역일 뿐이다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScoreCollectionTest</span> </span>&#123;</span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">answersArithmeticMeanOfTwoNumbers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      ScoreCollection collection = <span class="keyword">new</span> ScoreCollection();</span><br><span class="line">      collection.add(() -&gt; <span class="number">5</span>);</span><br><span class="line">      collection.add(() -&gt; <span class="number">7</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">int</span> actualResult = collection.arithmeticMean();</span><br><span class="line">      </span><br><span class="line">      assertThat(actualResult, equalTo(<span class="number">6</span>));</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-Boundary"><a href="#2-Boundary" class="headerlink" title="2. Boundary"></a>2. Boundary</h2><p>대부분의 결함은 Corner Case 이다. 테스트로 이것들을 처리해야한다. 다음과 같은 경계 조건이 있다.</p>
<ol>
<li>모호하고 일관성 없는 입력 값. ex) 특수문자가 포함된 파일 이름</li>
<li>잘못된 양식의 데이터</li>
<li>Overflow 를 일으키는 계산</li>
<li>비거나 빠진 값. ex) 0, “”, null</li>
<li>이성적인 기대 값을 벗어나는 값. ex) 200 세의 나이</li>
<li>중복을 허용해서는 안되는 목록에 중복 값이 있는 경우</li>
<li>정렬이 안된 정렬 리스트 혹은 그 반대</li>
<li>시간 순이 맞지 않는 경우. ex) HTTP Server 가 OPTIONS 메서드의 결과를 POST 메서드 보다 나중에 반환</li>
</ol>
<p>다음 클래스를 기준으로 테스트해보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScoreCollection</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> List&lt;Scoreable&gt; scores = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Scoreable scoreable)</span> </span>&#123;</span><br><span class="line">      scores.add(scoreable);</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">arithmeticMean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">int</span> total = scores.stream().mapToInt(Scoreable::getScore).sum();</span><br><span class="line">      <span class="keyword">return</span> total / scores.size();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><a class="article-more button is-small is-size-7" href="/2020/06/29/unit-test-ch-06/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-06-23T15:00:00.000Z" title="6/24/2020, 12:00:00 AM">2020-06-24</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.825Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/test-code/">Test Code</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/06/24/unit-test-ch-05/">[실용주의 단위 테스트] 5장_좋은 테스트의 FIRST 속성</a></h1><div class="content"><p>의미있는 테스트를 만드는데 도움을 주는 핵심 개념을 정리한다.<br>좋은 테스트 조건 : FIRST ( Fast / Isolated / Repeatable / Self-validating / Timely )</p>
<h2 id="1-Fast"><a href="#1-Fast" class="headerlink" title="1. Fast"></a>1. Fast</h2><p>테스트를 빠르게 유지해라. 단위 테스트를 하루에 서너 번 실행하기도 버겁다면 잘못된 것이다.  예를 들면, 모든 테스트 코드가 데이터베이스를 호출하면 전체 테스트 역시 느릴 것이다.</p>
<h2 id="2-Isolated"><a href="#2-Isolated" class="headerlink" title="2. Isolated"></a>2. Isolated</h2><p>좋은 단위 테스트는, </p>
<ol>
<li><code>검증하려는 작은 양의 코드에 집중</code>한다. ‘단위’ 라고 말하는 정의와 부합한다.</li>
<li><code>다른 단위 테스트에 의존하지 않는다</code>. 만약, 여러 테스트가 값 비싸게 생성된 데이터를 재사용 하는 방식으로 테스트 순서를 조작해서 전체 테스트의 실행 속도를 높이려 할 수도 있다. 하지만, 이것은 의존성의 악순환만 발생시킨다. 테스트 실패시, 무엇이 원인인지 알아내느라 오래 걸릴 수 있다.</li>
</ol>
<p>객체 지향 설계에서 SRP 는 클래스를 변경해야할 이유가 하나민 있어야한다고 말한다. 테스트 메서드도 마찬가지다. 테스트 메서드가 하나 이상의 이유로 깨지면 테스트를 분할해라.<br>그리고, 테스트에 두 번째 단언을 추가할 때 다음을 먼저 고민해보자.</p>
<blockquote>
<p>이 단언이 단일 동작을 검증하도록 돕나 ? </p>
<p>아니면, 새로운 테스트 이름으로 기술할 수 잇는 어떤 동작인가 ?</p>
</blockquote>
<h2 id="3-Repeatble"><a href="#3-Repeatble" class="headerlink" title="3. Repeatble"></a>3. Repeatble</h2><p>좋은 테스트는, 실행할 때마다 결과가 같아야한다. 이러기 위해서는, 직접 통제할 수 없는 외부 환경과 격리시켜야한다.</p></div><a class="article-more button is-small is-size-7" href="/2020/06/24/unit-test-ch-05/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-06-21T15:00:00.000Z" title="6/22/2020, 12:00:00 AM">2020-06-22</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.808Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/test-code/">Test Code</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/06/22/unit-test-ch-04/">[실용주의 단위 테스트] 4장_테스트 조직</a></h1><div class="content"><p>이번 장은 다음 주제를 다룬다.</p>
<ol>
<li>준비-실행-단언을 사용해 테스트를 가시적이고 일관성 있게 만드는 방법</li>
<li>메서드를 테스트하는 것이 아니라, 동작을 테스트</li>
<li>테스트 이름의 중요성</li>
<li>@Before, @After</li>
</ol>
<h2 id="1-AAA-로-테스트-일관성-유지"><a href="#1-AAA-로-테스트-일관성-유지" class="headerlink" title="1. AAA 로 테스트 일관성 유지"></a>1. AAA 로 테스트 일관성 유지</h2><p>AAA 는 다음과 같다.</p>
<ul>
<li>Arrange : 준비. 테스트 코드를 실행하기 전에 시스템에 적절한 상태에 있는지 확인</li>
<li>Act: 실행. 테스트 코드 실행</li>
<li>Assert : 단언. 실행한 코드가 기대한 대로 동작하는지 확인</li>
</ul>
<p>예를 들면,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">answerArithmeticMeanOfTwoNumbers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ScoreCollection collection = <span class="keyword">new</span> ScoreCollection();</span><br><span class="line">    collection.add(() -&gt; <span class="number">5</span>);</span><br><span class="line">    collection.add(() -&gt; <span class="number">7</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> actualResult = collection.arithmeticMean();</span><br><span class="line">    </span><br><span class="line">    assertThat(actualResult, equalTo(<span class="number">6</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-동작-테스트-vs-메서드-테스트"><a href="#2-동작-테스트-vs-메서드-테스트" class="headerlink" title="2. 동작 테스트 vs 메서드 테스트"></a>2. 동작 테스트 vs 메서드 테스트</h2><p>단위 테스트를 작성할 때는, 개별 메서드를 테스트 하는 것이 아니라 <code>클래스의 종합적인 동작을 테스트</code>해야한다.</p>
<h2 id="3-테스트와-프로덕션-코드의-관계"><a href="#3-테스트와-프로덕션-코드의-관계" class="headerlink" title="3. 테스트와 프로덕션 코드의 관계"></a>3. 테스트와 프로덕션 코드의 관계</h2></div><a class="article-more button is-small is-size-7" href="/2020/06/22/unit-test-ch-04/#more">Read more</a></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><p class="title is-size-4 is-block" style="line-height:inherit;">Junhee Ko</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">339</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">18</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/junhee-ko" target="_blank" rel="noopener">Follow</a></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-07-02T15:00:00.000Z">2022-07-03</time></p><p class="title"><a href="/2022/07/03/mockk/">Mockk</a></p><p class="categories"><a href="/categories/kotlin/">Kotlin</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-11T15:00:00.000Z">2022-06-12</time></p><p class="title"><a href="/2022/06/12/spring-data-rest/">Spring Data REST</a></p><p class="categories"><a href="/categories/spring/">Spring</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-04T15:00:00.000Z">2022-06-05</time></p><p class="title"><a href="/2022/06/05/wiremock/">WireMock</a></p><p class="categories"><a href="/categories/spring/">Spring</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-04-19T15:00:00.000Z">2022-04-20</time></p><p class="title"><a href="/2022/04/20/effective-kotlin-reusability02/">Effective Kotlin - Reusability 2</a></p><p class="categories"><a href="/categories/kotlin/">Kotlin</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-04-11T15:00:00.000Z">2022-04-12</time></p><p class="title"><a href="/2022/04/12/effective-kotlin-reusability01/">Effective Kotlin - Reusability 1</a></p><p class="categories"><a href="/categories/kotlin/">Kotlin</a></p></div></article></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">180</span></span></a></li><li><a class="level is-mobile" href="/categories/big-data/"><span class="level-start"><span class="level-item">Big Data</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/container/"><span class="level-start"><span class="level-item">Container</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/graphql/"><span class="level-start"><span class="level-item">GraphQL</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/jpa/"><span class="level-start"><span class="level-item">JPA</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/kafka/"><span class="level-start"><span class="level-item">Kafka</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/kotlin/"><span class="level-start"><span class="level-item">Kotlin</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile" href="/categories/oauth/"><span class="level-start"><span class="level-item">OAuth</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/oop/"><span class="level-start"><span class="level-item">OOP</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/os/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/reactor/"><span class="level-start"><span class="level-item">Reactor</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/redis/"><span class="level-start"><span class="level-item">Redis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/tdd/"><span class="level-start"><span class="level-item">TDD</span></span><span class="level-end"><span class="level-item tag">32</span></span></a></li><li><a class="level is-mobile" href="/categories/test-code/"><span class="level-start"><span class="level-item">Test Code</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/grpc/"><span class="level-start"><span class="level-item">gRPC</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Always Learning" height="28"></a><p class="is-size-7"><span>&copy; 2022 junhee.ko</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>