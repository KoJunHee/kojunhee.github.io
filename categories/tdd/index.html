<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Category: TDD - Always Learning</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Always Learning"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Always Learning"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Always Learning"><meta property="og:url" content="https://junhee-ko.github.io/"><meta property="og:site_name" content="Always Learning"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://junhee-ko.github.io/img/og_image.png"><meta property="article:author" content="junhee.ko"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://junhee-ko.github.io"},"headline":"Always Learning","image":["https://junhee-ko.github.io/img/og_image.png"],"author":{"@type":"Person","name":"junhee.ko"},"publisher":{"@type":"Organization","name":"Always Learning","logo":{"@type":"ImageObject","url":"https://junhee-ko.github.io/img/logo.svg"}},"description":null}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Always Learning" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">TDD</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-18T15:00:00.000Z" title="4/19/2020, 12:00:00 AM">2020-04-19</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.834Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/19/tdd-chapter-29/">[테스트 주도 개발] 29장_xUnit 패턴</a></h1><div class="content"><p>xUnit 계열의 테스트 프레임워크를 위한 패턴을 정리한다.</p>
<h5 id="assertion"><a href="#assertion" class="headerlink" title="assertion"></a>assertion</h5><p>테스트가 어떻게 잘 작동하는지 테스트 할 것인가?<br>boolean 수식을 이용해서, 프로그램이 코드가 동작하는지 자동으로 판단하도록 해라.</p>
<h5 id="fixture"><a href="#fixture" class="headerlink" title="fixture"></a>fixture</h5><p>여러 테스트에서 공통으로 사용하는 객체들을 생성할 때 어떻게 하면 좋을까?<br>각 테스트 코드의 지역 변수를 인스턴스 변수로 바꾸고 setUp() 메서드에 재정의해라. 그리고, setUp() 메서드에서 인스턴스 변수들을 초기화하도록 해라.</p>
<h5 id="외부-fixture"><a href="#외부-fixture" class="headerlink" title="외부 fixture"></a>외부 fixture</h5><p>픽스처 중에 외부 자원이 있을 경우에 어떻게 해제할 것인가?<br>tearDown() 메서드를 재정의해라. 그리고, teaDown() 메서드에서 자원을 해제하라.</p>
<h5 id="테스트-메서드"><a href="#테스트-메서드" class="headerlink" title="테스트 메서드"></a>테스트 메서드</h5><p>테스트 케이스 하나를 어떻게 표현하나?<br>‘test’ 로 시작하는 이름의 메서드로 읽기 쉽도록 표현해라. </p>
<h5 id="예외-테스트"><a href="#예외-테스트" class="headerlink" title="예외 테스트"></a>예외 테스트</h5></div><a class="article-more button is-small is-size-7" href="/2020/04/19/tdd-chapter-29/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-18T15:00:00.000Z" title="4/19/2020, 12:00:00 AM">2020-04-19</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.870Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/19/tdd-chapter-31/">[테스트 주도 개발] 31장_리팩토링</a></h1><div class="content"><p>시스템의 설계를 작은 단계를 통해 변화시키는 방법들을 정리한다.</p>
<h5 id="차이점-일치시키기"><a href="#차이점-일치시키기" class="headerlink" title="차이점 일치시키기"></a>차이점 일치시키기</h5><p>비슷해 보이는 두 코드 조각을 합리려면?<br>두 코드를 단계적으로 닮아가게 수정한다. 완전히 동일해지면 둘을 합쳐라.</p>
<h5 id="변화-격리하기"><a href="#변화-격리하기" class="headerlink" title="변화 격리하기"></a>변화 격리하기</h5><p>객체나 메서드의 일부만 바꾸려면?<br>일단 바꿔야할 부분을 격리해라. 격리 방법으로는,</p>
<ol>
<li>메서드 추출</li>
<li>객체 추출</li>
<li>메서드 객체</li>
</ol>
<h5 id="메서드-추출하기"><a href="#메서드-추출하기" class="headerlink" title="메서드 추출하기"></a>메서드 추출하기</h5><p>길고 복잡한 메서드를 읽기 쉽게 만들려면?<br>긴 메서드의 일부분을 별도의 메서드로 분리하고 이를 호출해라. 복잡한 코드를 이해하기 쉽고, 중복을 제거하기도 좋다. </p>
<h5 id="메서드-인라인"><a href="#메서드-인라인" class="headerlink" title="메서드 인라인"></a>메서드 인라인</h5><p>제어 흐름이 너무 산재되어 있으면?<br>메서드 호출하는 부분을 호출될 메서드의 본문으로 교체해라.</p></div><a class="article-more button is-small is-size-7" href="/2020/04/19/tdd-chapter-31/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-18T15:00:00.000Z" title="4/19/2020, 12:00:00 AM">2020-04-19</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.862Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/19/tdd-chapter-30/">[테스트 주도 개발] 30장_디자인 패턴</a></h1><div class="content"><p>TDD 에서 쓰일 수 있는 디자인 패턴들을 정리한다.</p>
<h5 id="커맨트-패턴"><a href="#커맨트-패턴" class="headerlink" title="커맨트 패턴"></a>커맨트 패턴</h5><p>간단한 메서드 호출보다 복잡한 형태의 계산 작업에 대한 호출이 필요하다면 어떻게 할까?<br>계산 작업에 대한 객체를 생성해서 이를 호출하면 된다. Runnable 인터페이스가 대표적인 예이다.</p>
<h5 id="값-객체"><a href="#값-객체" class="headerlink" title="값 객체"></a>값 객체</h5><p>공유되어야 하지만, identity (동일성) 은 중요하지 않을 때 겍체를 어떤식으로 설계할까?<br>객체가 생성될 때 객체의 상태를 설정한다. 그리고, 이 상태가 절대 변할 수 없도록 해라. 이 객체에 대해 수행되는 연산은 언제나 새로운 객체를 반환하게 만들어라.<br>별칭 문제란, 두 객체가 제 삼의 다른 객체에 대한 참조를 공유하는데, 한 객체가 공유 객체의 상태를 변화시키면, 다른 객체가 영향을 받는 문제이다. 해결하기 위한 방법으로,</p>
<ol>
<li>의존하는 객체애 대한 참조를 외부로 알리지 않는 방법이다. 그 대신 객체에 대한 복사본을 제공한다. 이 방법의 문제는, 수행 시간이나 메모리 공간 측면에서 비효율적이다. 또한, 공유 객체의 상태 변화를 공유할 수 없다.</li>
<li>옵저버 패턴. 의존하는 객체에 자기를 등록해 놓고, 객체의 상태가 변하면 통지를 받는다. 이 방법의 문제는, 제어 흐름이 어렵고 의존성을 설정하고 제거하기 위한 로직이 지저분해진다.</li>
<li>객체를 덜 객체답게 취급. 객체는 시간의 흐름에 따라 변할 수 있는 상태를 가진다. 그런데, 이러한 특징을 제거해버려라. 이것이 값 객체이다.</li>
</ol>
<p>모든 값 객체는 동등성을 구현해야한다. 만약, </p>
<ol>
<li>계약을 표현하는 객체가 두 개가 있는데, 둘이 서로 같은 객체가 아니면 이 둘은 동등한것이 아니라 다른것이다. </li>
<li>하지만, 5프랑 짜리 동전 두개가 있는데, 이 동전들이 동일한 (identity) 동전인지는 중요하지 않다. 5프랑은 5프랑이다. 이들은 동등해야한다.(equality)</li>
</ol>
<h5 id="널-객체"><a href="#널-객체" class="headerlink" title="널 객체"></a>널 객체</h5><p>객체의 특별한 상황은 어떻게 표현하나? </p></div><a class="article-more button is-small is-size-7" href="/2020/04/19/tdd-chapter-30/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-18T15:00:00.000Z" title="4/19/2020, 12:00:00 AM">2020-04-19</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.815Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/19/tdd-chapter-32/">[테스트 주도 개발] 32장_TDD 마스터하기</a></h1><div class="content"><h5 id="좋은-테스트인지는-어덯게-알-수-있나"><a href="#좋은-테스트인지는-어덯게-알-수-있나" class="headerlink" title="좋은 테스트인지는 어덯게 알 수 있나?"></a>좋은 테스트인지는 어덯게 알 수 있나?</h5><p>다음은 설계에 문제가 있음을 알려준다.</p>
<ol>
<li>긴 setUp 코드</li>
<li>setUp 중복</li>
<li>실행 시간이 오래 걸리는 테스트</li>
<li>깨지기 쉬운 테스트</li>
</ol>
<h5 id="테스트를-지워야할-때는"><a href="#테스트를-지워야할-때는" class="headerlink" title="테스트를 지워야할 때는?"></a>테스트를 지워야할 때는?</h5><ol>
<li>테스트를 삭제하고 자신감이 줄어들 것 같으면 삭제하지마라. </li>
<li>두 테스트 코드가 동일한 부분을 실행해도, 서로 다른 시나리오를 말한다면 그대로 남겨둬라.</li>
</ol>
<h5 id="프로젝트-중반에-TDD-를-도입하려면"><a href="#프로젝트-중반에-TDD-를-도입하려면" class="headerlink" title="프로젝트 중반에 TDD 를 도입하려면?"></a>프로젝트 중반에 TDD 를 도입하려면?</h5><ol>
<li>우선, 변경의 범위를 제한해라. 극적으로 단순화 될 수 있지만 지금 당장 변할 필요가 없으면 그냥 그대로 둬라. </li>
<li>그리고나서, 테스트와 리팩토링 사이의 교착 상태를 풀어줘라. 파트너와 같이 작업을 하거나, 아주 조심스럽게 작업을 할 수 있다.</li>
</ol>
<p>시간이 지나면, 시스템에서 늘 변화하는 부분들은 테스트 주도로 된 것 처럼 보이게 될 것이다.</p>
<h5 id="TDD-와-패턴의-관계는"><a href="#TDD-와-패턴의-관계는" class="headerlink" title="TDD 와 패턴의 관계는?"></a>TDD 와 패턴의 관계는?</h5><p>단순히 시스템에서 무슨 일을 할지 생각하고, 나중에 설계가 알아서 정해지도록 해라.</p></div><a class="article-more button is-small is-size-7" href="/2020/04/19/tdd-chapter-32/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-05T15:00:00.000Z" title="4/6/2020, 12:00:00 AM">2020-04-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.846Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/06/tdd-chapter-25/">[테스트 주도 개발] 25장_테스트 주도 개발 패턴</a></h1><div class="content"><p>어떻게 테스트할 것인지에 대해 이야기하기 전에, 다음 질문들을 정리해보자.</p>
<ol>
<li>테스트한다는 것은 무엇을 뜻하는가 ?</li>
<li>테스트를 언제 해야하는가 ?</li>
<li>테스트할 로직을 어떻게 고를 것인가 ?</li>
<li>테스트할 데이터를 어떻게 고를 것인가?</li>
</ol>
<h5 id="격리된-테스트"><a href="#격리된-테스트" class="headerlink" title="격리된 테스트"></a>격리된 테스트</h5><p>테스트는 전체 애플리케이션을 대상으로 하는 것 보다, 작은 스케일로 하는게 좋다.<br>각각의 테스트는 다른 테스트와 독립적이어야한다. 즉, 문제가 하나면 테스트도 하나만 실패해야하고 둘이면 두개만 실패해야한다.격리된 테스트가 내포하는 특징은, 테스트가 실행 순서에 독립적이게 된다는 것이다. 테스트를 격리하기 위한 작업은, 시스템이 응집도는 높고 결합도는 낮은 객체의 모음으로 구성되도록 한다.</p>
<h5 id="테스트-목록"><a href="#테스트-목록" class="headerlink" title="테스트 목록"></a>테스트 목록</h5><p>뭘 테스트 해야하나 ? 시작하기 전에 작석해야할 테스트 목록을 모두 적어둬라.<br>우선 구현할 필요가 있는 모든 오퍼레이션의 사용 예들을 적어라. 그 다음, 이미 존재하지 않는 오퍼레이션에 대해서는 해당 오퍼레이션의 null 버젼 (아무 일도 하지 않는 버젼) 을 리스트에 적어라. 마지막으로 깔끔한 코드를 얻기 위해 이번 작업을 끝내기 전에 반드시 해야할 리펙토링 목록을 적어라.</p>
<h5 id="테스트-우선"><a href="#테스트-우선" class="headerlink" title="테스트 우선"></a>테스트 우선</h5><p>테스트는 언제 작성하는 것이 좋은가 ? 테스트 대상이 되는 코드를 작성하기 직전에 작성해라.</p>
<h5 id="assertion-우선"><a href="#assertion-우선" class="headerlink" title="assertion 우선"></a>assertion 우선</h5><p>테스트 작성할 때 단언은 언제쯤 쓸까 ? 단언를 먼저 쓰고 시작하라.<br>단언을 먼저 작성하면 작업을 단순하게 만들 수 있다. 소켓을 통해 다른 시스템과 통신하려고 한다고 해보자. 통신을 마친 후 소켓은 닫혀 있고, 소켓에서 문자열 abc 를 읽어와야한다고 하자.</p></div><a class="article-more button is-small is-size-7" href="/2020/04/06/tdd-chapter-25/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-05T15:00:00.000Z" title="4/6/2020, 12:00:00 AM">2020-04-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.836Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/06/tdd-chapter-26/">[테스트 주도 개발] 26장_빨간 막대 패턴</a></h1><div class="content"><p>이 패턴들은 테스트를 언제 어디서 작성할 건지, 테스트 작성을 언제 멈출지에 대한 것이다.</p>
<h5 id="한-단계-테스트"><a href="#한-단계-테스트" class="headerlink" title="한 단계 테스트"></a>한 단계 테스트</h5><p>목록에서 다음 테스트를 고를 때 무엇을 기준으로 골라야 할까? 새로운 무언가를 가르쳐 줄 수 있고, 구현할 수 있는 확신이 드는 테스트를 골라라.</p>
<h5 id="시작-테스트"><a href="#시작-테스트" class="headerlink" title="시작 테스트"></a>시작 테스트</h5><p>어떤 테스트부터 시작하는게 좋을까? 오퍼레이션이 아무 일도 하지 않는 경우를 먼저 테스트해라.</p>
<h5 id="설명-테스트"><a href="#설명-테스트" class="headerlink" title="설명 테스트"></a>설명 테스트</h5><p>자동화된 테스트가 널리 쓰이게 하려면 어떻게 해야할까? 테스트로 설명을 요청하고 테스트로 설명해라.<br>예를 들어, 누군가 시퀀스 다이엄드램을 설명하라고 하면, 시퀀스 다이어그램의 모든 요소를 포함하는 테스트케이스를 작성해라.</p>
<h5 id="학습-테스트"><a href="#학습-테스트" class="headerlink" title="학습 테스트"></a>학습 테스트</h5><p>외부에서 만든 소프트웨어에 대한 테스트를 작성해야 할 때도 있나? 패키지의 새로운 기능을 처음 사용해보기 전에 할 수 있다.<br>자바의 모바일 정보 기기 프로파일 라이브러리르 기반으로 뭔가를 만든다고 하자. 그냥 바로 사용하는 대신 API 가 우리 예상대로 실행된다는 것을 확인해줄만한 테스트를 먼저 만들어라. 만약, 테스트가 통과하지 않으면 애플리케이션 역시 실행되지 않을것이므로 애플리케이션을 실행해볼 필요도 없다.</p>
<h5 id="또-다른-테스트"><a href="#또-다른-테스트" class="headerlink" title="또 다른 테스트"></a>또 다른 테스트</h5></div><a class="article-more button is-small is-size-7" href="/2020/04/06/tdd-chapter-26/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-05T15:00:00.000Z" title="4/6/2020, 12:00:00 AM">2020-04-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.832Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/06/tdd-chapter-27/">[테스트 주도 개발] 27장_테스팅 패턴</a></h1><div class="content"><p>이 패턴들은 더 상세한 테스트 작성법에 대한 것이다.</p>
<h5 id="자식-테스트"><a href="#자식-테스트" class="headerlink" title="자식 테스트"></a>자식 테스트</h5><p>지나치게 큰 테스트 케이스를 어떻게 돌아갈 수 있을까 ? 원래 테스트 케이스의 깨지는 부분에 해당하는 작은 테스트 케이스를 작성하고 그 작은 테스트케이스가 실행되도록 해라. 그 후에 다시 원래의 큰 테스트 케이스를 추가해라.</p>
<h5 id="Mock-Object"><a href="#Mock-Object" class="headerlink" title="Mock Object"></a>Mock Object</h5><p>비용이 많이 들거나 복잡한 리소스에 의존하는 객체를 테스트하려면 어떻게 해야할까 ? 상수를 반환하게끔 만든 속임수 버젼의 리소스를 만들면 된다.<br>예를 들어, 데이터베이스는 시작 시간이 오래 걸린고 깨끗한 상태를 유지하기 어렵다. 그리고 만약 데이터베이스가 원격 서버에 있다면 테스트 성공 여부가 네트워크 상의 물리적인 영향을 받게 된다. 또, 데이터베이스는 개발 중 많은 오류의 원인이다. 해법은, 진짜 데이터베이스를 사용하지 않는 것이다.<br>모의 객체를 사용하면 성능과 견고함 이외에, 가독성이 좋아진다. 또한, 가시성에 대해 고민하도록 격려해서 설계에서 커플링이 감소하도록 한다.<br>하지만 모의 객체를 사용하면, 프로젝트에 위험 요소가 추가된다. 모의 객체가 진짜 객체와 동일하게 동작하지 않으면 어떻게 될까 ? 모의 객체용 테스트 집합을 진짜 객체가 사용 가능해질때 그대로 적용해서 이 위험을 줄일 수 있다.</p>
<h5 id="Crash-Test-Dummy"><a href="#Crash-Test-Dummy" class="headerlink" title="Crash Test Dummy"></a>Crash Test Dummy</h5><p>호출되지 않을 것 같은 에러코드를 어떻게 테스트할 것인가 ? 실제 작업을 수행하는 대신 그냥 예외를 발생시키기만 하는 특수한 객체를 만들어서 호출한다.<br>파일 시스템에 여유 공간이 없을 경우 발생할 문제에 대해 테스트를 해보자. 자바의 익명 내부 클래스는 테스트하기 원하는 메서드만이 오류를 발생하게끔 하기 위해 유용하다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testFileSystemError</span><span class="params">()</span></span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">&quot;foo&quot;</span>) &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">createNeweFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IOException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        saveAs(file);</span><br><span class="line">        fail();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="깨진-테스트"><a href="#깨진-테스트" class="headerlink" title="깨진 테스트"></a>깨진 테스트</h5><p>혼자서 프로그래밍할 때 프로그래밍 세션을 어떤 상태로 끝내는게 좋을까 ? 마지막 테스트가 깨진 상태로 끝내라.<br>나중에 다시 코딩할 때, 어느 작업부터 시작할 것인지 명백히 알 수 있다. 전에 하고 있던 생각에 대한 명확하고 구체적인 책갈피를 가지는 것이다.</p></div><a class="article-more button is-small is-size-7" href="/2020/04/06/tdd-chapter-27/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-05T15:00:00.000Z" title="4/6/2020, 12:00:00 AM">2020-04-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.823Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/06/tdd-chapter-28/">[테스트 주도 개발] 28장_초록 막대 패턴</a></h1><div class="content"><p>코드가 테스트를 통과하게 만들기 위해 이 패턴들을 사용해라.</p>
<h5 id="가짜로-구현하기-진짜로-만들기-전까지만"><a href="#가짜로-구현하기-진짜로-만들기-전까지만" class="headerlink" title="가짜로 구현하기 ( 진짜로 만들기 전까지만 )"></a>가짜로 구현하기 ( 진짜로 만들기 전까지만 )</h5><p>실패하는 테스트를 만든 후 첫 번째 구현은 어떻게 하는게 좋을까? 상수를 반환하게 하라. 일단 테스트가 통과하면 단계적으로 상수를 변수를 사용하는 수식으로 변형한다.</p>
<h5 id="삼각-측량"><a href="#삼각-측량" class="headerlink" title="삼각 측량"></a>삼각 측량</h5><p>오로지 예가 두개 이상일 때만 추상화를 해라.<br>두 정수 합을 반환하는 함수를 예로 보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testSum</span><span class="params">()</span></span>&#123;</span><br><span class="line">    assertEquals(<span class="number">4</span>, plus(<span class="number">3</span>,<span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">plus</span><span class="params">(<span class="keyword">int</span> augend, <span class="keyword">int</span> addend)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>삼각 층량을 사용해서 바른 설계로 간다면, 다음과 같이 작성해야한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testSum</span><span class="params">()</span></span>&#123;</span><br><span class="line">    assertEquals(<span class="number">4</span>, plus(<span class="number">3</span>,<span class="number">1</span>));</span><br><span class="line">    assertEquals(<span class="number">7</span>, plus(<span class="number">3</span>,<span class="number">4</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>그러면, 우리는 plus 의 구현을 추상화 할 수 있다.</p></div><a class="article-more button is-small is-size-7" href="/2020/04/06/tdd-chapter-28/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-03-30T15:00:00.000Z" title="3/31/2020, 12:00:00 AM">2020-03-31</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.830Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/03/31/tdd-chapter-21/">[테스트 주도 개발] 21장_셈하기</a></h1><div class="content"><ul>
<li><del>테스트 메서드 호출하기</del></li>
<li><del>먼저 setUp 호출하기</del></li>
<li>나중에 tearDown 호출하기</li>
<li>테스트 메서드가 실패해도 tearDown 호출하기</li>
<li>여러 개의 테스트 실행하기</li>
<li><strong>수집된 결과를 출력하기</strong></li>
<li><del>WasRun 에 로그 문자열 남기기</del></li>
</ul>
<p>테스트 메서드에에서 예외가 발생하건 말건 tearDown() 이 호출되도록 구현했다. 하지만,테스트가 작동하기 위해선 예외를 작아야한다.<br>여러 테스트를 실행하고 그 결과를 다음과 같이 보길 원한다.<br>“5개 테스트가 실행됨. 2개 실패. TestCaseTest.testFooBar-ZeroDivide Exception, MoneyTest.testNegation-AssertionError”<br>TestCase.run()이 테스트 하나의 실행 결과를 기록하는 TestResult 객체를 반환하게 만들자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// TestCaseTest</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test_result</span>(<span class="params">self</span>):</span></span><br><span class="line">    test = WasRun(<span class="string">&quot;testMethod&quot;</span>)</span><br><span class="line">    result = test.run()</span><br><span class="line">    <span class="keyword">assert</span>(<span class="string">&quot;1 run, 0 failed&quot;</span> == result.summary())</span><br></pre></td></tr></table></figure>

<p>가짜 구현하자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestResult</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">summary</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;1 run, 0 failed&quot;</span></span><br></pre></td></tr></table></figure>

<p>이제 TestCase.run() 이 TestResult 를 결과로 반환한다.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// TestCase</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.setUp()</span><br><span class="line">    method = <span class="built_in">getattr</span>(self, self.name)</span><br><span class="line">    method()</span><br><span class="line">    self.tearDown()</span><br><span class="line">    <span class="keyword">return</span> TestResult()</span><br></pre></td></tr></table></figure>

<p>이제 테스트가 실행된다. 이제 summary()의 구현을 실체화하자. 우선 실행된 테스트의 수를 상수로 만들자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// TestResul</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">	self.runCount = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">summary</span>(<span class="params">self</span>):</span></span><br><span class="line">	<span class="keyword">return</span> <span class="string">&quot;%d run, 0 failed&quot;</span> % self.runCount</span><br></pre></td></tr></table></figure>

<p>runCount를 0으로 초기화하고 테스트가 실행될 때마다 1씩 증가하도록 만들 수 있다.</p></div><a class="article-more button is-small is-size-7" href="/2020/03/31/tdd-chapter-21/#more">Read more</a></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-03-30T15:00:00.000Z" title="3/31/2020, 12:00:00 AM">2020-03-31</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-07-17T07:08:50.857Z" title="7/17/2021, 4:08:50 PM">2021-07-17</time></span><span class="level-item"><a class="link-muted" href="/categories/tdd/">TDD</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/03/31/tdd-chapter-22/">[테스트 주도 개발] 22장_실패 처리하기</a></h1><div class="content"><ul>
<li><del>테스트 메서드 호출하기</del></li>
<li><del>먼저 setUp 호출하기</del></li>
<li>나중에 tearDown 호출하기</li>
<li>테스트 메서드가 실패해도 tearDown 호출하기</li>
<li>여러 개의 테스트 실행하기</li>
<li><del>수집된 결과를 출력하기</del></li>
<li><del>WasRun 에 로그 문자열 남기기</del></li>
<li><strong>실패한 테스트 보고하기</strong></li>
</ul>
<p>실패한 테스트를 발견하면, 세밀한 단위의 테스트를 작성해서 올바른 결과를 출력해보자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// TestCaseTest</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testFailedResultFormatting</span>(<span class="params">self</span>):</span></span><br><span class="line">    result = TestResult()</span><br><span class="line">    result.testStarted()</span><br><span class="line">    result.testFailed()</span><br><span class="line">    <span class="keyword">assert</span> (<span class="string">&quot;1 run, 1 failed&quot;</span> == result.summary())</span><br></pre></td></tr></table></figure>

<p>실패 횟수를 세어보자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// TestResult</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.runCount = <span class="number">0</span></span><br><span class="line">    self.failureCount = <span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">testFailed</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.failureCount = self.failureCount + <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>이제 출력하자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// TestResult</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">summary</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;%d run, %d failed&quot;</span> % (self.runCount, self.failureCount)</span><br></pre></td></tr></table></figure>

<p>이제 테스트 메서드에서 예외를 잡으면, testFailed() 를 호출하자.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// TestCase</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">    result = TestResult()</span><br><span class="line">    result.testStarted()</span><br><span class="line">    self.setUp()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        method = <span class="built_in">getattr</span>(self, self.name)</span><br><span class="line">        method()</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        result.testFailed()</span><br><span class="line">    self.tearDown()</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p>run() 에는 문제가 있다. 바로 setUp()에서 문제가 발생한 경우에는 예외가 잡히지 않는다는 것이다. todo list 에 넣어두자.</p></div><a class="article-more button is-small is-size-7" href="/2020/03/31/tdd-chapter-22/#more">Read more</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/categories/tdd/page/0/">Previous</a></div><div class="pagination-next"><a href="/categories/tdd/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/categories/tdd/">1</a></li><li><a class="pagination-link" href="/categories/tdd/page/2/">2</a></li><li><a class="pagination-link" href="/categories/tdd/page/3/">3</a></li><li><a class="pagination-link" href="/categories/tdd/page/4/">4</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><p class="title is-size-4 is-block" style="line-height:inherit;">Junhee Ko</p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">335</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">18</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/junhee-ko" target="_blank" rel="noopener">Follow</a></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-04-11T15:00:00.000Z">2022-04-12</time></p><p class="title"><a href="/2022/04/12/effective-kotlin-reusability01/">Effective Kotlin - Reusability 1</a></p><p class="categories"><a href="/categories/kotlin/">Kotlin</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-04-08T15:00:00.000Z">2022-04-09</time></p><p class="title"><a href="/2022/04/09/bean-validation/">Bean Validation</a></p><p class="categories"><a href="/categories/spring/">Spring</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-29T15:00:00.000Z">2022-03-30</time></p><p class="title"><a href="/2022/03/30/effective-kotlin-readability02/">Effective Kotlin - Readability 2</a></p><p class="categories"><a href="/categories/kotlin/">Kotlin</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-26T15:00:00.000Z">2022-03-27</time></p><p class="title"><a href="/2022/03/27/effective-kotlin-readability01/">Effective Kotlin - Readability 1</a></p><p class="categories"><a href="/categories/kotlin/">Kotlin</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-03-22T15:00:00.000Z">2022-03-23</time></p><p class="title"><a href="/2022/03/23/effective-kotlin-safety02/">Effective Kotlin - Safety 2</a></p><p class="categories"><a href="/categories/kotlin/">Kotlin</a></p></div></article></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">180</span></span></a></li><li><a class="level is-mobile" href="/categories/big-data/"><span class="level-start"><span class="level-item">Big Data</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/container/"><span class="level-start"><span class="level-item">Container</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/graphql/"><span class="level-start"><span class="level-item">GraphQL</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/jpa/"><span class="level-start"><span class="level-item">JPA</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/kafka/"><span class="level-start"><span class="level-item">Kafka</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/kotlin/"><span class="level-start"><span class="level-item">Kotlin</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/categories/oauth/"><span class="level-start"><span class="level-item">OAuth</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/oop/"><span class="level-start"><span class="level-item">OOP</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/categories/os/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/reactor/"><span class="level-start"><span class="level-item">Reactor</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/redis/"><span class="level-start"><span class="level-item">Redis</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/tdd/"><span class="level-start"><span class="level-item">TDD</span></span><span class="level-end"><span class="level-item tag">32</span></span></a></li><li><a class="level is-mobile" href="/categories/test-code/"><span class="level-start"><span class="level-item">Test Code</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/grpc/"><span class="level-start"><span class="level-item">gRPC</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Always Learning" height="28"></a><p class="is-size-7"><span>&copy; 2022 junhee.ko</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>